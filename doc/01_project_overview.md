# RSSwithAI - 智能情报收集分析系统

## 项目介绍

RSSwithAI是一个基于RSS信息源的智能情报收集、分析与展示系统。系统将前沿的AI分析能力与成熟的信息聚合技术有效结合，构建从信息采集、智能分析到最终展示的全流程自动化系统。

### 核心特性

- **自动化采集**：支持多种RSS源类型，定时抓取最新内容
- **智能增强**：利用大语言模型自动生成文章概览、关键信息和标签
- **向量化处理**：生成文章向量表示，支持智能检索和相似性分析
- **订阅与时间线**：支持RSS源订阅与语义主题订阅，提供混合时间线（RSS + 语义检索）
- **多端分立**：明确区分管理端（Admin）与用户端（Front）功能与接口
- **实验管理**：支持创建AI分析实验，对比不同模型和提示词的效果
- **灵活配置**：支持动态配置系统参数和模型参数，无需重启

## 项目目标

构建一个高效、智能的情报收集分析平台，帮助用户从海量信息中快速获取有价值的内容，并通过AI技术提升信息处理和分析的效率。

## 系统参与者

### 后台管理者
- **系统管理员**：负责RSS源管理、模型配置与系统监控
- **研究分析人员**：关注Prompt模板优化、AI效果测试与情报质量评估

### 情报消费者
- **决策者、分析师、研究人员**：专注快速、精准获取有价值的情报内容

## 系统架构

### 三层架构模型
系统采用"采集—分析—展示"三层架构模型：

```
┌─────────────────────────────────┐
│       信息展示器 (Presenter)       │  ← 前台界面
├─────────────────────────────────┤
│       智能分析器 (Analyzer)        │  ← AI处理
├─────────────────────────────────┤
│       信息收集器 (Collector)       │  ← 数据采集
└─────────────────────────────────┘
```

### 技术栈

- **后端框架**：Spring Boot 4
- **开发语言**：Java 25
- **AI集成**：Spring AI
- **数据库**：PostgreSQL 17 with pgvector
- **设计模式**：DDD领域驱动设计、RESTful API

## 功能模块

系统功能分为**后台管理端**和**前台用户端**两大核心部分，分别服务于系统管理员和情报分析师。

### 1. 后台管理端 (Admin)

后台管理端负责系统的核心数据采集、模型调度和配置管理。

#### 1.1 RSS源管理
- RSS源的增删改查
- 支持原始RSS源和RSSHub源
- 定时调度抓取（每秒检查一次）
- 失败重试机制（最多3次）
- 手动触发抓取
- 抓取状态监控和统计

#### 1.2 文章管理
- 文章的查询和检索（支持分页）
- 按RSS源筛选文章
- 关键词搜索（标题和作者的模糊匹配）
- 文章统计信息（总数、每日新增）
- 查看文章的AI增强信息
- 重新生成文章增强信息

#### 1.3 AI内容增强与LLM处理
- 自动生成文章概览（80字以内，支持Markdown）
- 提取关键信息（1-3条，每条40字以内）
- 生成标签（5个左右）
- 生成文章向量表示（1024维）
- 支持并发控制（默认5）
- 配置管理：管理LLM各模型参数（temperature、top_p、max_tokens等）
- 动态更新和客户端重建

#### 1.4 提示词模板管理
- 提示词模板的增删改查
- 版本管理（创建新版本、冻结版本）
- 版本锁定机制（immutable标志）
- 支持变量占位符（{title}、{author}、{content}等）

#### 1.5 实验管理
- 创建和管理分析实验，支持对比不同模型和Prompt效果
- 批量文章的异步AI分析处理
- 记录完整的实验过程数据（请求参数、模型响应、token消耗、执行时间）

#### 1.6 系统配置与管理认证
- 系统配置的动态管理与热更新
- 管理员JWT令牌认证与刷新

### 2. 前台用户端 (Front)

前台用户端服务于最终情报消费者，提供账号管理与后续的情报浏览推荐服务。

#### 2.1 用户管理模块
- **注册与限流**：支持用户注册，并具备IP安全限流（24小时内同一IP限10个账号）
- **身份认证**：基于JWT的登录与Token刷新机制
- **个人中心**：个人资料（用户名、头像）查询与安全设置（密码修改）

#### 2.2 订阅与情报消费
- RSS源展示与订阅管理（展示是否已订阅、支持取消订阅）
- 主题(Topic)创建与订阅（20字以内，自动向量化，主题不可变）
- 混合时间线：RSS订阅文章 + Topic语义匹配文章，按发布时间倒序游标分页
- 智能搜索：关键词模糊匹配 + 向量相似度混合检索，支持全局/订阅/收藏范围
- 相似推荐：文章详情页基于向量相似度推荐相关内容
- 文章收藏：收藏/取消收藏文章，分页查看收藏列表

#### 2.3 热点趋势分析
- **智能词云**：基于订阅源或指定源生成关键词云，利用 LLM 进行同义词清洗
- **热点事件**：全网热点事件提取与打分，提供全景式情报速览

## 模块列表

系统采用模块化设计，主要模块映射如下：

1. **RSS源管理模块** (Admin)：管理RSS订阅源及抓取任务
2. **文章管理模块** (Common)：管理抓取的文章数据，供前后端查询
3. **大语言模型处理模块** (Core)：后台静默执行的AI分析引擎
4. **模型配置与模板模块** (Admin)：管理AI推理的参数与模版
5. **实验模块** (Admin)：执行效果测试与对比
6. **用户管理模块** (Front)：负责普通消费者的账户与权限
7. **订阅系统模块** (Front)：管理用户订阅（RSS/Topic）并提供混合时间线
8. **系统配置与认证模块** (Admin)：负责全局设置与管理员权限
9. **热点趋势模块** (Front/Core)：负责词云生成与热点事件分析


## 模块依赖关系

```
RSS源管理模块 → 文章管理模块 → 大语言模型处理模块
                                              ↓
系统配置与认证模块 ←───────────────────────────┘
                                              ↓
实验模块 ←──────── 模型配置模块 + 提示词模板模块
```

## 数据流

```
RSS源 → 抓取 → 文章 → AI增强 → 概览/关键信息/标签/向量
                                    ↓
                              实验分析 → 分析结果
```

## 事件驱动

系统采用事件驱动架构，主要事件包括：

- **ArticleProcessEvent**：文章创建后发布，触发AI增强处理
- **ConfigUpdateEvent**：配置更新后发布，通知相关服务刷新配置

## 并发控制

- 使用虚拟线程实现高并发处理
- 使用Semaphore信号量控制并发数
- 每个模块独立执行，互不影响
