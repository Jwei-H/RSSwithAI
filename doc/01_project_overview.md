# RSSwithAI - 智能情报收集分析系统

## 项目介绍

RSSwithAI是一个基于RSS信息源的智能情报收集、分析与展示系统。系统将前沿的AI分析能力与成熟的信息聚合技术有效结合，构建从信息采集、智能分析到最终展示的全流程自动化系统。

### 核心特性

- **自动化采集**：支持多种RSS源类型，定时抓取最新内容
- **智能增强**：利用大语言模型自动生成文章概览、关键信息和标签
- **向量化处理**：生成文章向量表示，支持智能检索和相似性分析
- **实验管理**：支持创建AI分析实验，对比不同模型和提示词的效果
- **灵活配置**：支持动态配置系统参数和模型参数，无需重启

## 项目目标

构建一个高效、智能的情报收集分析平台，帮助用户从海量信息中快速获取有价值的内容，并通过AI技术提升信息处理和分析的效率。

## 系统参与者

### 后台管理者
- **系统管理员**：负责RSS源管理、模型配置与系统监控
- **研究分析人员**：关注Prompt模板优化、AI效果测试与情报质量评估

### 情报消费者
- **决策者、分析师、研究人员**：专注快速、精准获取有价值的情报内容

## 系统架构

### 三层架构模型
系统采用"采集—分析—展示"三层架构模型：

```
┌─────────────────────────────────┐
│       信息展示器 (Presenter)       │  ← 前台界面
├─────────────────────────────────┤
│       智能分析器 (Analyzer)        │  ← AI处理
├─────────────────────────────────┤
│       信息收集器 (Collector)       │  ← 数据采集
└─────────────────────────────────┘
```

### 技术栈

- **后端框架**：Spring Boot 4
- **开发语言**：Java 25
- **AI集成**：Spring AI
- **数据库**：PostgreSQL 17 with pgvector
- **设计模式**：DDD领域驱动设计、RESTful API

## 已有功能

### 1. RSS源管理
- RSS源的增删改查
- 支持原始RSS源和RSSHub源
- 定时调度抓取（每秒检查一次）
- 失败重试机制（最多3次）
- 手动触发抓取
- 抓取状态监控和统计

### 2. 文章管理
- 文章的查询和检索（支持分页）
- 按RSS源筛选文章
- 关键词搜索（标题和作者的模糊匹配）
- 文章统计信息（总数、每日新增）
- 查看文章的AI增强信息
- 重新生成文章增强信息

### 3. AI内容增强
- 自动生成文章概览（80字以内，支持Markdown）
- 提取关键信息（1-3条，每条40字以内）
- 生成标签（5个左右）
- 生成文章向量表示（1024维）
- 支持并发控制（默认5）
- 配置动态更新和客户端重建

### 4. 模型配置管理
- 模型配置的增删改查
- 存储LLM模型参数（temperature、top_p、top_k、max_tokens、seed等）
- 为实验系统提供模型选择

### 5. 提示词模板管理
- 提示词模板的增删改查
- 版本管理（创建新版本、冻结版本）
- 版本锁定机制（immutable标志）
- 版本内容更新
- 支持变量占位符（{title}、{author}、{content}等）

### 6. 实验管理
- 创建和管理实验
- 批量文章的异步AI分析处理
- 记录完整的实验过程数据（请求参数、模型响应、token消耗、执行时间）
- 支持实验结果的可追溯性和对比分析
- 按文章或实验查询分析结果

### 7. 系统配置与认证
- 系统配置的动态管理（数据库存储）
- 配置热更新（无需重启）
- JWT令牌认证
- 用户登录和令牌刷新
- 配置更新事件发布

## 模块列表

### 核心模块

1. **RSS源管理模块**：管理RSS订阅源的配置、调度抓取任务、监控抓取状态
2. **文章管理模块**：管理从RSS源抓取的文章数据，提供查询、检索、统计功能
3. **大语言模型处理模块**：对原始文章进行AI驱动的深度处理与增强
4. **模型配置模块**：管理大语言模型的配置参数
5. **提示词模板模块**：管理提示词模板及其版本
6. **实验模块**：执行AI驱动的文章分析实验
7. **系统配置与认证模块**：管理系统配置和用户认证

## 模块依赖关系

```
RSS源管理模块 → 文章管理模块 → 大语言模型处理模块
                                              ↓
系统配置与认证模块 ←───────────────────────────┘
                                              ↓
实验模块 ←──────── 模型配置模块 + 提示词模板模块
```

## 数据流

```
RSS源 → 抓取 → 文章 → AI增强 → 概览/关键信息/标签/向量
                                    ↓
                              实验分析 → 分析结果
```

## 事件驱动

系统采用事件驱动架构，主要事件包括：

- **ArticleProcessEvent**：文章创建后发布，触发AI增强处理
- **ConfigUpdateEvent**：配置更新后发布，通知相关服务刷新配置

## 并发控制

- 使用虚拟线程实现高并发处理
- 使用Semaphore信号量控制并发数
- 每个模块独立执行，互不影响
