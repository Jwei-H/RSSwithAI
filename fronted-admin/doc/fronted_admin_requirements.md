# RSSwithAI 后台管理系统前端需求文档

## 文档说明

本文档面向前端开发人员，详细描述 RSSwithAI 后台管理系统的前端页面结构、交互流程和功能需求。前端开发人员应结合本文档和
`api_reference.md` 文档进行开发。

**注意**：本文档侧重于前端页面结构和交互流程描述，详细的 API 接口规范请参考 `api_reference.md`。

---

## 目录

1. [系统概述](#系统概述)
2. [认证与授权](#认证与授权)
3. [页面结构](#页面结构)
4. [页面详细需求](#页面详细需求)
   - [登录页面](#登录页面)
   - [RSS源管理页面](#rss源管理页面)
   - [文章管理页面](#文章管理页面)
   - [模型配置管理页面](#模型配置管理页面)
   - [提示词模板管理页面](#提示词模板管理页面)
   - [实验管理页面](#实验管理页面)
   - [系统配置页面](#系统配置页面)
5. [通用交互规范](#通用交互规范)
6. [状态码与错误处理](#状态码与错误处理)

---

## 系统概述

RSSwithAI 是一个基于 RSS 信息源的智能情报收集、分析与展示系统。后台管理系统面向系统管理员和研究分析人员，提供以下核心功能：

- **RSS 源管理**：添加、编辑、删除、启用/禁用 RSS 源，手动触发抓取
- **文章管理**：查看从 RSS 源抓取的文章及其 AI 增强信息
- **模型配置管理**：管理 LLM 模型的配置参数
- **提示词模板管理**：管理 Prompt 模板及其版本
- **实验管理**：创建和管理 AI 文章分析实验
- **分析结果查看**：查看实验的分析结果详情
- **系统配置管理**：管理系统运行时配置

### 用户角色

- **系统管理员**：负责 RSS 源管理、模型配置与系统监控
- **研究分析人员**：关注 Prompt 模板优化、AI 效果测试与情报质量评估

---

## 页面结构

### 整体布局

采用经典的侧边栏 + 顶部导航 + 主内容区域布局：

```
┌─────────────────────────────────────────────────┐
│  顶部导航栏（Logo、用户信息、退出登录）            │
├──────────┬──────────────────────────────────────┤
│          │                                      │
│  侧边栏   │           主内容区域                   │
│          │                                      │
│  导航菜单 │                                      │
│          │                                      │
└──────────┴──────────────────────────────────────┘
```

### 侧边栏导航菜单

| 菜单项     | 路由               | 图标         | 说明          |
|---------|------------------|------------|-------------|
| RSS 源管理 | `/rss-sources`   | RSS        | RSS 源的增删改查  |
| 文章管理    | `/articles`      | Document   | 文章列表和详情     |
| 模型配置    | `/model-configs` | Setting    | LLM 模型配置    |
| 提示词模板   | `/prompts`       | Edit       | Prompt 模板管理 |
| 实验管理    | `/experiments`   | Experiment | AI 分析实验     |
| 系统配置    | `/settings`      | Tools      | 系统配置管理      |

**说明**：系统登录后默认进入 RSS 源管理页面

---

## 页面详细需求

### 登录页面

**路由**：`/login`

**页面布局**：居中的登录表单卡片

**表单字段**：

| 字段  | 类型    | 必填 | 说明 |
|-----|-------|----|----|
| 用户名 | 文本输入框 | 是  |    |
| 密码  | 密码输入框 | 是  |    |

**交互流程**：

1. 用户输入用户名和密码
2. 点击"登录"按钮
3. 调用 `POST /api/admin/login` 接口
4. 登录成功：
   - 存储 Token 到 localStorage
   - 跳转到 RSS 源管理页面 `/rss-sources`
5. 登录失败：
   - 显示错误提示（用户名或密码错误）
   - 保持表单内容

---

### rss源管理页面

**路由**：`/rss-sources`

**页面布局**：统计信息卡片区域 + 顶部操作栏 + RSS 源列表表格

#### 统计信息卡片区域

页面顶部展示统计信息卡片，调用 `GET /api/admin/v1/rss-sources/stats` 接口获取数据。

**统计卡片内容**：

| 卡片标题    | 数据字段           | 说明                          |
|---------|----------------|-----------------------------|
| RSS 源总数 | `total`        | 当前 RSS 源的总数量               |
| 成功抓取   | `statusCounts.SUCCESS` | 最后一次抓取状态为成功的源数量           |
| 抓取失败   | `statusCounts.FAILED` | 最后一次抓取状态为失败的源数量           |
| 从未抓取   | `statusCounts.NEVER` | 从未抓取过的源数量                 |
| 正在抓取   | `statusCounts.FETCHING` | 当前正在抓取中的源数量               |

#### 顶部操作栏

包含以下操作按钮：

| 按钮       | 功能             | 接口                                         |
|----------|----------------|--------------------------------------------|
| 新增 RSS 源 | 打开新增对话框        | -                                          |
| 刷新列表     | 重新加载列表（包括统计数据） | `GET /api/admin/v1/rss-sources`            |
| 抓取全部     | 手动触发抓取所有启用的源   | `POST /api/admin/v1/rss-sources/fetch-all` |

#### RSS 源列表表格

**列定义**：

| 列名      | 字段                     | 说明                   |
|---------|------------------------|----------------------|
| ID      | `id`                   |                      |
| 名称      | `name`                 |                      |
| URL     | `url`                  | 可截断显示，hover 显示完整 URL |
| 类型      | `type`                 | 显示枚举值（ORIGIN/RSSHUB） |
| 抓取间隔    | `fetchIntervalMinutes` | 显示为"X 分钟"            |
| 状态      | `status`               | 使用标签显示（启用/禁用）        |
| 最后抓取状态  | `lastFetchStatus`      | 使用标签显示（成功/失败/从未/抓取中） |
| 最后抓取时间  | `lastFetchTime`        | 格式化为本地时间             |
| 操作      | -                      | 详情、编辑、删除、启用/禁用、手动抓取  |

**操作列按钮**：

| 按钮    | 功能            | 接口                                                        |
|-------|---------------|-----------------------------------------------------------|
| 详情    | 打开详情弹窗       | `GET /api/admin/v1/rss-sources/{id}`                      |
| 编辑    | 打开编辑对话框       | `GET /api/admin/v1/rss-sources/{id}`                      |
| 删除    | 删除 RSS 源（需确认） | `DELETE /api/admin/v1/rss-sources/{id}`                   |
| 启用/禁用 | 切换源状态         | `POST /api/admin/v1/rss-sources/{id}/enable` 或 `/disable` |
| 手动抓取  | 手动触发抓取该源      | `POST /api/admin/v1/rss-sources/{id}/fetch`               |

#### RSS 源详情弹窗

点击"详情"按钮打开弹窗，展示 RSS 源的完整信息。

**展示内容**：

| 字段       | 说明                   |
|----------|----------------------|
| ID       | `id`                 |
| 名称       | `name`               |
| URL      | `url`                |
| 类型       | `type`               |
| 分类       | `category`           |
| 描述       | `description`        |
| 抓取间隔（分钟） | `fetchIntervalMinutes` |
| 状态       | `status`             |
| 最后抓取状态   | `lastFetchStatus`    |
| 最后抓取时间   | `lastFetchTime`      |
| 最后抓取错误   | `lastFetchError`     |
| 失败次数     | `failureCount`       |
| 创建时间     | `createdAt`          |
| 更新时间     | `updatedAt`          |

**说明**：分类（`category`）字段仅在详情中展示，列表中不显示；错误信息（`lastFetchError`）仅在抓取失败时显示。

#### 新增/编辑对话框

**表单字段**：

| 字段       | 类型    | 必填 | 默认值    | 说明              |
|----------|-------|----|--------|-----------------|
| 名称       | 文本输入框 | 否  |        |                 |
| URL      | 文本输入框 | 是  |        |                 |
| 类型       | 下拉选择  | 是  | ORIGIN | ORIGIN / RSSHUB |
| 分类       | 下拉选择  | 否  | OTHER  | NEWS / TECH / SOCIETY / FINANCE / LIFESTYLE / OTHER |
| 抓取间隔（分钟） | 数字输入框 | 否  | 30     |                 |

**交互流程**：

1. 点击"新增 RSS 源"按钮，打开对话框
2. 填写表单信息
3. 点击"确定"按钮，调用 `POST /api/admin/v1/rss-sources` 接口
4. 创建成功后关闭对话框，刷新列表
5. 编辑流程类似，调用 `PUT /api/admin/v1/rss-sources/{id}` 接口

**表单验证**：

- URL、类型为必填项
- URL 格式无需验证
- 抓取间隔必须为正整数

---

### 文章管理页面

**路由**：`/articles`

**页面布局**：统计信息卡片区域 + 顶部筛选栏 + 文章列表表格

#### 统计信息卡片区域

页面顶部展示统计信息卡片，调用 `GET /api/admin/v1/articles/stats` 接口获取数据。

**统计卡片内容**：

| 卡片标题  | 数据字段       | 说明                 |
|-------|------------|--------------------|
| 文章总数 | `total`    | 当前文章的总数量           |
| 新增文章 | `dailyCounts` | 展示最近7天每日新增文章数量的趋势 |

#### 顶部筛选栏

包含以下筛选条件：

| 筛选条件  | 类型    | 说明                  |
|-------|-------|---------------------|
| RSS 源 | 下拉选择  | 可选择特定 RSS 源，默认为"全部" |
| 搜索关键词 | 文本输入框 | 搜索文章标题（左右模糊匹配）      |

**操作按钮**：

| 按钮 | 功能     | 接口                                                           |
|----|--------|--------------------------------------------------------------|
| 搜索 | 应用筛选条件 | `GET /api/admin/v1/articles` 或 `/articles/source/{sourceId}` |
| 重置 | 清空筛选条件 | -                                                            |

#### 文章列表表格

**列定义**：

| 列名   | 字段           | 说明       |
|------|--------------|----------|
| ID   | `id`         |          |
| 来源   | `sourceName` |          |
| 标题   | `title`      | 可点击查看详情  |
| 作者   | `author`     |          |
| 发布日期 | `pubDate`    | 格式化为本地时间 |
| 抓取时间 | `fetchedAt`  | 格式化为本地时间 |
| 分类   | `categories` |          |

**交互**：点击文章标题跳转到文章详情页 `/articles/{id}`

#### 文章详情页

**路由**：`/articles/{id}`

**页面布局**：返回按钮 + 文章信息区域 + 分析结果列表

**返回按钮**：页面顶部左侧显示返回按钮，点击返回文章列表页。

**文章信息区域**：

展示文章的元信息和内容：

| 字段          | 说明                  |
|-------------|---------------------|
| 标题          | `title`             |
| 链接          | `link`（可点击跳转）       |
| 来源          | `sourceName`         |
| 作者          | `author`            |
| 发布日期        | `pubDate`           |
| 分类          | `categories`        |
| 摘要          | `description`       |
| Markdown 内容 | `content`支持切换源码或渲染视图 |

**文章增强信息**：

同时请求获取该文章的 ArticleExtra 信息，展示：

| 字段   | 说明                       |
|------|--------------------------|
| 处理状态 | `status`（SUCCESS/FAILED） |
| 概览   | `overview`               |
| 关键信息 | `keyInformation`（列表形式）   |
| 标签   | `tags`（标签形式）             |
| 错误信息 | `errorMessage`（仅失败时显示）   |

**操作按钮**：

- **重新生成**：当 `status` 为 `FAILED` 时显示。点击后调用 `POST /api/admin/v1/articles/{id}/extra/regenerate`。
   - **交互**：点击后按钮进入 loading 状态，等待接口返回（约 2-3 秒）。
   - **成功**：更新展示增强信息，状态变为 `SUCCESS`。
   - **失败**：提示错误信息，状态保持 `FAILED`。

**分析结果列表**：

展示该文章相关的所有 AnalysisResults，支持分页。该部分占用空间可以小一点。

**列表列定义**：

| 列名   | 字段               | 说明     |
|------|------------------|--------|
| ID   | `id`             |        |
| 实验名称 | `experimentName` |        |
| 状态   | `status`         | 使用标签显示 |
| 创建时间 | `createdAt`      |        |
| 操作   | -                | 查看详情   |

**操作列按钮**：

| 按钮   | 功能         | 接口                                        |
|------|------------|-------------------------------------------|
| 查看详情 | 打开分析结果详情弹窗 | `GET /api/admin/v1/analysis-results/{id}` |

**注意**：分析结果列表数据通过调用 `GET /api/admin/v1/analysis-results/articles/{articleId}` 接口获取。

#### 分析结果详情弹窗

**展示内容**：

**基本信息**：

| 字段   | 说明               |
|------|------------------|
| 实验名称 | `experimentName` |
| 文章标题 | `articleTitle`   |
| 状态   | `status`         |
| 创建时间 | `createdAt`      |

**配置信息**：

- **模型配置**：展示模型配置 JSON
- **提示词内容**：展示实际使用的提示词（参数渲染后）

**分析结果**：

| 字段        | 说明                            |
|-----------|-------------------------------|
| 分析结果      | `analysisResult` |
| 输入 Tokens | `inputTokens`                 |
| 输出 Tokens | `outputTokens`                |
| 执行耗时      | `executionTimeMs`             |
| 错误信息      | `errorMessage`（仅失败时显示）        |

---

### 模型配置管理页面

**路由**：`/model-configs`

**页面布局**：科普信息卡片区域 + 顶部操作栏 + 模型配置列表

#### 科普信息卡片区域

页面顶部展示模型配置相关的科普信息卡片，帮助用户理解各个参数的含义和作用。

**科普卡片内容**：

| 卡片标题    | 说明                          |
|---------|-----------------------------|
| Temperature | 控制模型输出的随机性，值越高输出越随机（0.0-2.0）  |
| Top P    | 核采样参数，控制从概率最高的词中选择（0.0-1.0）    |
| Top K    | 从概率最高的 K 个词中选择，K 越大输出越多样      |
| Max Tokens | 限制模型输出的最大 token 数量            |
| Seed     | 随机种子，设置相同种子可获得确定性的输出          |

#### 顶部操作栏

| 按钮   | 功能      | 接口                                |
|------|---------|-----------------------------------|
| 新增配置 | 打开新增对话框 | -                                 |
| 刷新列表 | 重新加载列表  | `GET /api/admin/v1/model-configs` |

#### 模型配置列表表格

**列定义**：

| 列名          | 字段            | 说明    |
|-------------|---------------|-------|
| ID          | `id`          |       |
| 名称          | `name`        |       |
| 描述          | `description` |       |
| 模型 ID       | `modelId`     |       |
| Temperature | `temperature` |       |
| Top P       | `topP`        |       |
| Top K       | `topK`        |       |
| Max Tokens  | `maxTokens`   |       |
| Seed        | `seed`        |       |
| 创建时间        | `createdAt`   |       |
| 操作          | -             | 编辑、删除 |

**操作列按钮**：

| 按钮 | 功能        | 接口                                        |
|----|-----------|-------------------------------------------|
| 编辑 | 打开编辑对话框   | `GET /api/admin/v1/model-configs/{id}`    |
| 删除 | 删除配置（需确认） | `DELETE /api/admin/v1/model-configs/{id}` |

#### 新增/编辑对话框

**表单字段**：

| 字段          | 类型    | 必填 | 默认值 | 说明           |
|-------------|-------|----|-----|--------------|
| 名称          | 文本输入框 | 是  |     |              |
| 描述          | 文本域   | 否  |     |              |
| 模型 ID       | 文本输入框 | 是  |     |              |
| Temperature | 数字输入框 | 否  | 0.7 | 范围：0.0 - 2.0 |
| Top P       | 数字输入框 | 否  | 0.9 | 范围：0.0 - 1.0 |
| Top K       | 数字输入框 | 否  |     | 采样数量         |
| Max Tokens  | 数字输入框 | 否  |     | 最大生成长度       |
| Seed        | 数字输入框 | 否  |     | 随机种子         |

**表单验证**：

- 名称、模型 ID 为必填项
- Temperature 范围：0.0 - 2.0
- Top P 范围：0.0 - 1.0
- Top K、Max Tokens、Seed 必须为非负整数

---

### 提示词模板管理页面

**路由**：`/prompts`

**页面布局**：科普信息卡片区域 + 顶部操作栏 + 提示词模板列表

#### 科普信息卡片区域

页面顶部展示提示词模板相关的科普信息卡片，帮助用户理解版本管理机制。

**科普卡片内容**：

| 卡片标题     | 说明                                                                         |
|----------|----------------------------------------------------------------------------|
| 版本管理机制   | 系统采用两级结构：模板（父级）+ 版本（子级）                                                    |
| 版本锁定     | 锁定后的版本内容不可修改，用于实验和对比分析                                                     |
| 创建新版本    | 只有锁定当前版本后，才能基于它创建新的可修改版本                                                   |
| 功能特性     | 支持使用变量占位符，支持{author}、{content}、{sourceName}、{title}、{pubDate}、{categories} |
| prompt指南 | （你可以自由发挥）                                                                  |

#### 顶部操作栏

| 按钮   | 功能      | 接口                         |
|------|---------|----------------------------|
| 新增模板 | 打开新增对话框 | -                          |
| 刷新列表 | 重新加载列表  | `GET /api/admin/v1/prompts` |

#### 提示词模板列表表格

**列定义**：

| 列名    | 字段                | 说明                       |
|-------|-------------------|--------------------------|
| ID    | `id`              |                          |
| 名称    | `name`            | 可点击查看详情                 |
| 描述    | `description`     |                          |
| 最新版本  | `latestVersion`   |                          |
| 版本状态  | `latestVersionDetail.immutable` | 可修改/已锁定                |
| 创建时间  | `createdAt`       |                          |
| 操作    | -                 | 查看详情、删除                  |

**操作列按钮**：

| 按钮   | 功能        | 接口                                             |
|------|-----------|------------------------------------------------|
| 查看详情 | 跳转到模板详情页  | -                                               |
| 删除   | 删除模板（需确认） | `DELETE /api/admin/v1/prompts/{tempId}`        |

**交互**：点击模板名称跳转到模板详情页 `/prompts/{tempId}`

#### 模板详情页

**路由**：`/prompts/{tempId}`

**页面布局**：返回按钮 + 模板信息区域 + 版本编辑区域

**返回按钮**：页面顶部左侧显示返回按钮，点击返回提示词模板列表页。

**模板信息区域**：

展示当前模板的信息：

| 字段   | 说明              |
|------|-----------------|
| 名称   | `name`          |
| 描述   | `description`   |
| 最新版本 | `latestVersion` |

**操作按钮**：

| 按钮    | 功能            | 接口                                             |
|-------|---------------|------------------------------------------------|
| 删除模板  | 删除当前模板（需确认）   | `DELETE /api/admin/v1/prompts/{tempId}`        |
| 创建新版本 | 基于最新锁定版本创建新版本 | `POST /api/admin/v1/prompts/{tempId}/versions` |

**版本编辑区域**：

**版本切换**：

- 下拉框显示所有版本号（倒序排列，从 1 起始）
- 默认显示最新版本
- 切换版本时，显示对应版本的内容

**版本信息展示**：

| 字段   | 说明                   |
|------|----------------------|
| 版本号  | `version`            |
| 状态   | `immutable`（可修改/已锁定） |
| 创建时间 | `createdAt`          |

**内容编辑区域**：

- 显示当前版本的内容 `content`
- 根据版本状态决定是否可编辑：
   - 如果 `immutable = false`（可修改），内容可编辑
   - 如果 `immutable = true`（已锁定），内容为只读

**操作按钮**：

| 按钮 | 功能     | 接口                                                                 | 条件       |
|----|--------|--------------------------------------------------------------------|----------|
| 保存 | 保存内容修改 | `PUT /api/admin/v1/prompts/{tempId}/versions/{versionNum}`         | 仅当前版本可修改 |
| 锁定 | 锁定当前版本 | `POST /api/admin/v1/prompts/{tempId}/versions/{versionNum}/freeze` | 仅当前版本可修改 |

**交互流程**：

1. 页面加载时，默认显示最新版本
2. 通过版本号自增特性，生成版本下拉列表（倒序排列）
3. 切换版本时，更新显示的内容和状态
4. 如果当前版本可修改，用户编辑内容后点击"保存"
5. 保存成功后，更新版本状态
6. 点击"锁定"后，当前版本变为只读，状态更新为已锁定

#### 新建模板对话框

**表单字段**：

| 字段 | 类型    | 必填 | 说明 |
|----|-------|----|----|
| 名称 | 文本输入框 | 是  |    |
| 描述 | 文本域   | 否  |    |

**交互流程**：

1. 点击"新建模板"按钮，打开对话框
2. 填写名称和描述
3. 点击"确定"，调用 `POST /api/admin/v1/prompts` 接口
4. 创建成功后，自动创建 v1 版本（可修改）
5. 关闭对话框，跳转到新创建的模板详情页

---

### 实验管理页面

**路由**：`/experiments`

**页面布局**：流程卡片区域 + 顶部操作栏 + 实验列表表格

#### 流程卡片区域

页面顶部展示实验流程卡片，帮助用户理解实验的执行流程。

**流程卡片内容**：

| 步骤 | 说明                          |
|-----|-----------------------------|
| 1. 选择文章 | 从文章库中选择需要分析的文章列表            |
| 2. 配置模型 | 选择模型配置（包括温度、Top P 等参数）       |
| 3. 选择提示词 | 选择已锁定的提示词模板版本              |
| 4. 创建实验 | 系统异步执行批量分析任务                |
| 5. 查看结果 | 实验完成后，查看每篇文章的分析结果和统计信息 |

#### 顶部操作栏

| 按钮   | 功能      | 接口                              |
|------|---------|---------------------------------|
| 新增实验 | 打开新增对话框 | -                               |
| 刷新列表 | 重新加载列表  | `GET /api/admin/v1/experiments` |

**筛选条件**：

| 筛选条件 | 类型   | 说明                  |
|------|------|---------------------|
| 状态   | 下拉选择 | 全部 / 运行中 / 已完成 / 失败 |

#### 实验列表表格

**列定义**：

| 列名    | 字段                         | 说明      |
|-------|----------------------------|---------|
| ID    | `id`                       |         |
| 名称    | `name`                     | 可点击查看详情 |
| 描述    | `description`              |         |
| 状态    | `status`                   | 使用标签显示  |
| 文章数量  | `articleIds.length`        |         |
| 模型配置  | `modelConfigName`          |         |
| 提示词模板 | `promptTemplateName` + 版本号 |         |
| 创建时间  | `createdAt`                |         |
| 操作    | -                          | 查看详情、删除 |

**操作列按钮**：

| 按钮   | 功能        | 接口                                      | 条件         |
|------|-----------|-----------------------------------------|------------|
| 查看详情 | 跳转到实验详情页  | -                                       | 仅已完成或失败状态 |
| 删除   | 删除实验（需确认） | `DELETE /api/admin/v1/experiments/{id}` | 仅未执行或已完成状态 |

**交互**：点击实验名称跳转到实验详情页 `/experiments/{id}`（仅当实验状态为已完成或失败时允许查看详情）

#### 新增实验对话框

**表单字段**：

| 字段    | 类型    | 必填 | 说明          |
|-------|-------|----|-------------|
| 实验名称  | 文本输入框 | 是  |             |
| 实验描述  | 文本域   | 否  |             |
| 文章选择  | 多选    | 是  | 从文章列表中选择    |
| 模型配置  | 下拉选择  | 是  | 从模型配置列表中选择  |
| 提示词模板 | 下拉选择  | 是  | 从提示词模板列表中选择 |
| 提示词版本 | 下拉选择  | 是  | 选择已锁定版本     |

**交互流程**：

1. 点击"新增实验"按钮，打开对话框
2. 填写实验名称和描述
3. 点击"选择文章"按钮，打开文章选择对话框
4. 选择模型配置和提示词模板
5. 选择提示词模板后，提示词版本下拉框仅显示该模板的已锁定版本（immutable=true）
6. 如果该模板没有已锁定版本，提示用户需要先锁定一个版本
7. 点击"确定"，调用 `POST /api/admin/v1/experiments` 接口
8. 创建成功后，实验状态为 RUNNING，异步执行
9. 关闭对话框，刷新列表

**文章选择对话框**：

- 展示文章列表（分页，紧凑信息，只有id+title）
- 支持搜索和筛选
- 使用复选框多选
- 显示已选数量

#### 实验详情页

**路由**：`/experiments/{id}`

**页面布局**：返回按钮 + 实验信息区域 + 分析结果列表

**返回按钮**：页面顶部左侧显示返回按钮，点击返回实验列表页。

**访问限制**：仅当实验状态为已完成（COMPLETED）或失败（FAILED）时允许查看详情，运行中（RUNNING）的实验不允许查看详情。

**实验信息区域**：

展示实验的元信息和配置信息：

**基本信息**：

| 字段   | 说明            |
|------|---------------|
| 实验名称 | `name`        |
| 实验描述 | `description` |
| 状态   | `status`      |
| 创建时间 | `createdAt`   |

**配置信息**：

- **模型配置**：展示模型配置的所有参数
- **提示词模板**：展示模板信息和版本内容

**文章列表**：

展示该实验包含的所有文章

**分析结果列表**：

展示该实验的所有分析结果，支持分页。

**列表列定义**：

| 列名   | 字段             | 说明     |
|------|----------------|--------|
| ID   | `id`           |        |
| 文章标题 | `articleTitle` |        |
| 状态   | `status`       | 使用标签显示 |
| 创建时间 | `createdAt`    |        |
| 操作   | -              | 查看详情   |

**操作列按钮**：

| 按钮   | 功能         | 接口                                        |
|------|------------|-------------------------------------------|
| 查看详情 | 打开分析结果详情弹窗 | `GET /api/admin/v1/analysis-results/{id}` |

**注意**：分析结果列表数据通过调用 `GET /api/admin/v1/analysis-results/experiments/{experimentId}` 接口获取。

#### 分析结果详情弹窗

**展示内容**：

**基本信息**：

| 字段   | 说明               |
|------|------------------|
| 实验ID | `experimentId`   |
| 文章标题 | `articleTitle`   |
| 状态   | `status`         |
| 创建时间 | `createdAt`      |

**配置信息**：

- **模型配置**：展示模型配置 JSON（`modelConfigJson`）
- **提示词内容**：展示实际使用的提示词（参数渲染后，`promptContent`）

**分析结果**：

| 字段        | 说明                            |
|-----------|-------------------------------|
| 分析结果      | `analysisResult` |
| 输入 Tokens | `inputTokens`                 |
| 输出 Tokens | `outputTokens`                |
| 执行耗时      | `executionTimeMs`             |
| 错误信息      | `errorMessage`（仅失败时显示）        |

---

### 系统配置页面

**路由**：`/settings`

**页面布局**：配置项分组 + 表单

#### 配置项分组

**采集器配置**：

| 配置键                         | 类型    | 默认值               | 说明          |
|-----------------------------|-------|-------------------|-------------|
| collector_fetch_interval    | 数字输入框 | 60000             | 抓取间隔（毫秒）    |
| collector_fetch_timeout     | 数字输入框 | 30                | 抓取超时（秒）     |
| collector_fetch_max_retries | 数字输入框 | 3                 | 最大重试次数      |
| rsshub_host                 | 文本输入框 | http://rsshub.app | RSSHub 主机地址 |

**LLM 配置**：

| 配置键                | 类型    | 默认值 | 说明             |
|--------------------|-------|-----|----------------|
| llm_base_url       | 文本输入框 |     | LLM API 基础 URL |
| llm_api_key        | 密码输入框 |     | LLM API 密钥     |
| language_model_id  | 文本输入框 |     | 语言模型 ID        |
| embedding_model_id | 文本输入框 |     | 向量模型 ID        |

**内容增强配置**：

| 配置键                  | 类型       | 默认值 | 说明        |
|----------------------|----------|-----|-----------|
| llm_gen_prompt       | 文本域      |     | 内容生成提示词模板 |
| llm_gen_model_config | JSON 编辑器 |     | 模型参数配置    |
| concurrent_limit     | 数字输入框    | 5   | 并发处理限制    |

**管理员配置**：

| 配置键            | 类型    | 默认值 | 说明     |
|----------------|-------|-----|--------|
| admin_username | 文本输入框 |     | 管理员用户名 |
| admin_password | 密码输入框 |     | 管理员密码  |

#### 操作按钮

| 按钮   | 功能        | 接口                         |
|------|-----------|----------------------------|
| 保存配置 | 保存所有配置    | `POST /api/admin/settings` |
| 重置配置 | 重置为上次保存的值 | -                          |

#### 交互流程

1. 页面加载时，调用 `GET /api/admin/settings` 获取当前配置
2. 用户修改配置项
3. 点击"保存配置"按钮
4. 调用 `POST /api/admin/settings` 接口
5. 保存成功后，显示成功提示
6. 更新 LLM 相关配置后，相关服务会自动刷新

**注意事项**：

- 修改管理员用户名和密码后，需要重新登录
- llm_gen_model_config 需要输入 JSON 格式的配置

---

## 通用交互规范

### 分页

所有列表页面都支持分页。

**分页参数**：

- `page`：页码（从 0 开始）
- `size`：每页数量

### 排序

除了文章列表（仅按照pubDate排序，无需显式指定），其他列表页面支持排序，点击表头可切换排序方式。

**排序参数**：

- `sort`：排序字段，格式：`field,dir`（如：`createdAt,desc`）

### 加载状态

- 列表加载时显示加载状态
- 按钮操作时显示加载状态，禁用按钮
- 对话框打开时显示加载状态

### 确认对话框

删除操作需要二次确认。

### 消息提示

显示操作结果的提示信息。

### 表单验证

- 必填字段需要标记
- 提交时验证数据有效性
- 显示具体的错误信息

### 响应式设计

- 侧边栏支持折叠/展开
- 表格支持横向滚动
- 对话框适配不同屏幕尺寸

---

## 状态码与错误处理

### HTTP 状态码

| 状态码 | 说明      | 处理方式             |
|-----|---------|------------------|
| 200 | 请求成功    | 正常处理响应数据         |
| 201 | 创建成功    | 显示成功提示，刷新列表      |
| 204 | 删除成功    | 显示成功提示，刷新列表      |
| 400 | 请求参数错误  | 显示错误提示，高亮错误字段    |
| 401 | 未授权     | 跳转到登录页面，清除 Token |
| 404 | 资源不存在   | 显示"资源不存在"提示      |
| 500 | 服务器内部错误 | 显示"服务器错误"提示      |

### 错误提示格式

统一使用以下格式显示错误：

```
[错误类型] 错误描述信息
```

---

## 附录

### 常用数据字典

#### SourceType（RSS 源类型）

| 值      | 显示文本     |
|--------|----------|
| ORIGIN | 原始 RSS 源 |
| RSSHUB | RSSHub 源 |

#### SourceStatus（RSS 源状态）

| 值        | 显示文本 |
|----------|------|
| ENABLED  | 启用   |
| DISABLED | 禁用   |

#### FetchStatus（抓取状态）

| 值        | 显示文本 |
|----------|------|
| NEVER    | 从未   |
| SUCCESS  | 成功   |
| FAILED   | 失败   |
| FETCHING | 抓取中  |

#### ExperimentStatus（实验状态）

| 值         | 显示文本 |
|-----------|------|
| RUNNING   | 运行中  |
| COMPLETED | 已完成  |
| FAILED    | 失败   |

#### AnalysisStatus（分析结果状态）

| 值       | 显示文本 |
|---------|------|
| SUCCESS | 成功   |
| FAILED  | 失败   |

---

## 开发注意事项

1. **API 调用**：所有 API 接口调用请参考 `api_reference.md` 文档
2. **Token 管理**：确保所有请求都携带有效的 Token
3. **错误处理**：统一处理各种错误情况，提供友好的错误提示
4. **加载状态**：所有异步操作都应显示加载状态
5. **表单验证**：确保表单数据的有效性
6. **分页处理**：列表页面都应支持分页
7. **响应式设计**：确保在不同屏幕尺寸下的可用性